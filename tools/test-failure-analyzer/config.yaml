github:
  token: "${GITHUB_TOKEN}"
  api_base_url: "https://api.github.com"
  # Organization/repo resolution will be derived from run URL/ID

loki:
  base_url: "https://grafmon.eudev3.cyberarmorsoft.com"
  mode: "grafana_proxy"
  # Either basic auth or bearer token, prefer tokens via env
  bearer_token: "${LOKI_TOKEN}"
  grafana:
    url: "https://grafmon.eudev3.cyberarmorsoft.com"
    api_token: "${GRAFANA_TOKEN}"
    datasource_id: 7
  # Default label keys used across services
  labels:
    namespace: "namespace"
    app: "app"
  templates:
    event-ingester-service: '{{namespace="event-sourcing-be-stage"}} {id_filters}'
    cadashboardbe: '{{namespace="event-sourcing-be-stage", app="ca-dashboard-be-egg"}} {id_filters}'
    config-service: '{{namespace="event-sourcing-be-stage", app="config-service"}} {id_filters}'
    users-notification-service: '{{namespace="event-sourcing-be-stage", app="ca-users-notification-service"}} {id_filters}'

parser:
  # Regex patterns to extract identifiers from logs
  customer_guid_patterns:
    - '(?i)customer[-_ ]?guid[:=][ \t]*([0-9a-f-]{32,36})'
    - '(?i)tenant[-_ ]?id[:=][ \t]*([0-9a-f-]{32,36})'
  cluster_name_patterns:
    - '(?i)cluster[:=][ \t]*([a-z0-9-_.]{3,64})'

defaults:
  time_padding: "10m"
  mapping_path: "../../system_test_mapping.json"

